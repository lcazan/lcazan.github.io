<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Editor v2.1</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Integrating your specific font and menu requirements */
        :root {
            --menu-font-size: 1.2rem; /* Bigger menu fonts */
        }

        body { font-family: sans-serif; margin: 0; display: flex; }

        /* Sidebar & Hamburger Logic */
        #sidebar-menu {
            width: 250px;
            background: #333;
            color: white;
            height: 100vh;
            padding: 20px;
            font-size: var(--menu-font-size);
        }

        .hamburger {
            display: block; /* Always visible */
            cursor: pointer;
            padding: 10px;
            background: none;
            border: none;
        }

        .hamburger .line {
            width: 30px;
            height: 3px;
            background-color: black;
            margin: 5px 0;
            display: block;
        }

        /* Editor UI */
        .main-layout { flex-grow: 1; display: flex; flex-direction: column; }
        
        .editor-controls {
            padding: 15px;
            background: #eee;
            border-bottom: 2px solid #ccc;
            display: flex;
            gap: 10px;
        }

        #content-container {
            padding: 20px;
            min-height: 400px;
            background: #fff;
        }

        .added-item {
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            background: #fafafa;
        }

        /* Locked Sections Styling */
        .locked-section {
            background: #f0f0f0;
            padding: 20px;
            border-top: 2px solid #222;
            color: #666;
        }
    </style>
</head>
<body>

    <nav id="sidebar-menu">
        <button class="hamburger">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>
        <ul>
            <li>Dashboard</li>
            <li>Projects</li>
            <li>Settings</li>
        </ul>
    </nav>

    <div class="main-layout">
        <div class="editor-controls">
            <button onclick="addItem()" style="background: #888; color: white;">+ Add Item</button>
            <button onclick="saveContent()" class="btn-save">Save Project</button>
            <button onclick="openContent()" class="btn-open">Open Saved File</button>
        </div>

        <div id="content-container">
            <div class="added-item">Initial editable block. Add more to test saving!</div>
        </div>

        <section id="services-section" class="locked-section">
            <h3>Our Services</h3>
            <p>This section is locked and cannot be modified via the editor.</p>
        </section>

        <footer id="main-footer" class="locked-section">
            <p>© 2026 Template System | Version 2.1 | Temp: 22°C</p>
        </footer>
    </div>

    <script>
        // ADD ITEM: Utility to add "tags" to the container
        function addItem() {
            const container = document.getElementById('content-container');
            const newItem = document.createElement('div');
            newItem.className = 'added-item';
            newItem.contentEditable = "true";
            newItem.innerHTML = "New Tagged Item (Click to edit text)";
            container.appendChild(newItem);
        }

        // SAVE FEATURE: Tags each item and saves to LocalStorage
        function saveContent() {
            const container = document.getElementById('content-container');
            const items = [];

            container.querySelectorAll('.added-item').forEach((item, index) => {
                items.push({
                    html: item.innerHTML,
                    className: item.className
                });
            });

            localStorage.setItem('savedContentData', JSON.stringify(items));
            alert('Content saved to browser memory!');
        }

        // OPEN FEATURE: Rebuilds the container from saved data
        function openContent() {
            const savedData = localStorage.getItem('savedContentData');
            
            if (!savedData) {
                alert('No saved data found.');
                return;
            }

            const items = JSON.parse(savedData);
            const container = document.getElementById('content-container');

            // Clear ONLY the editable container
            container.innerHTML = '';

            items.forEach(data => {
                const newItem = document.createElement('div');
                newItem.className = data.className;
                newItem.innerHTML = data.html;
                newItem.contentEditable = "true"; // Keep it editable
                container.appendChild(newItem);
            });

            alert('Project loaded successfully.');
        }

        // INSTANT HAMBURGER: Logic for open/close without delay
        const nav = document.getElementById('sidebar-menu');
        document.querySelector('.hamburger').addEventListener('click', () => {
            // Instant toggle logic
            nav.style.display = (nav.style.display === 'none') ? 'block' : 'none';
        });
    </script>
</body>
</html>
